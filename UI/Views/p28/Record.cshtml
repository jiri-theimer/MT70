@model UI.Models.Record.p28Record
@inject BL.Factory _f

@{

    Layout = "~/Views/Shared/_LayoutRecord.cshtml";
    if (Model.Rec == null) return;
    Model.PageTitle = _f.tra("Karta klienta");


}
@addTagHelper *, UI


<div class="tabs_container_record">
    <!-- Tab panes -->
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item onetab" role="presentation">
            <a id="link_tab1" class="nav-link" data-bs-toggle="tab" role="tab" href="#tab1">@_f.tra("Karta klienta")</a>
        </li>
        <li class="nav-item onetab" role="presentation">
            <a id="link_tab2" class="nav-link" data-bs-toggle="tab" role="tab" href="#tab2">@_f.tra("Fakturační nastavení")</a>
        </li>
        <li class="nav-item onetab" role="presentation">
            <a id="link_tab3" class="nav-link" data-bs-toggle="tab" role="tab" href="#tab3">@_f.tra("Uživatelská pole a štítky")</a>
        </li>

        <li class="nav-item onetab" role="presentation">
            <a id="link_tab4" class="nav-link" data-bs-toggle="tab" role="tab" href="#tab4">@_f.tra("Ostatní")</a>
        </li>


    </ul>
</div>


<div class="modal_record_container">
    <div class="tab-content">
        <div class="tab-pane" id="tab1" role="tabpanel">
            <!-- Tab1 -->
            <div class="row">
                <div class="col-sm-7 col-md-7">
                    <input type="radio" id="RadioIsIntraPerson1" asp-for="@Model.IsCompany" value="1" onchange="postback('postback')">
                    <label for="RadioIsIntraPerson1">@_f.tra("Klient je společnost/právnická osoba")</label>
                    <br />
                    <input type="radio" id="RadioIsIntraPerson0" asp-for="@Model.IsCompany" value="0" onchange="postback('postback')">
                    <label for="RadioIsIntraPerson0">@_f.tra("Klient je fyzická osoba")</label>
                </div>
                <div class="col-sm-5 col-md-5">

                </div>
            </div>

            <div class="row">
                <div class="col-sm-6 col-md-6">
                    @if (Model.IsCompany == 1)
                    {
                        <div class="row my-2">
                            <label class="col-sm-1 col-md-2 col-form-label">@_f.tra("Společnost"):</label>
                            <div class="col-sm-11 col-md-10">
                                <input class="form-control" asp-for="Rec.p28CompanyName" />
                            </div>
                        </div>
                    }
                    @if (Model.IsCompany == 0)
                    {
                        <div class="row my-2">
                            <label class="col-sm-1 col-md-2 col-form-label">@_f.tra("Jméno"):</label>
                            <div class="col-sm-11 col-md-10">
                                <myautocomplete asp-for="Rec.p28TitleBeforeName" o15flag="1" placeholder="@_f.tra("Titul")"></myautocomplete>
                            </div>

                        </div>
                        <div class="row my-2">
                            <div class="col-sm-1 col-md-2"></div>
                            <div class="col-sm-11 col-md-10">
                                <input class="form-control" asp-for="Rec.p28FirstName" placeholder="@_f.tra("Křestní jméno")" />
                            </div>
                        </div>
                        <div class="row my-2">
                            <div class="col-sm-1 col-md-2"></div>
                            <div class="col-sm-11 col-md-10">
                                <input class="form-control" asp-for="Rec.p28LastName" placeholder="@_f.tra("Příjmení")" />
                            </div>
                        </div>
                        <div class="row my-2">
                            <div class="col-sm-1 col-md-2"></div>
                            <div class="col-sm-11 col-md-10">
                                <myautocomplete asp-for="Rec.p28TitleAfterName" o15flag="2" placeholder="@_f.tra("Za jménem")"></myautocomplete>
                            </div>
                        </div>

                    }

                    <div class="row my-2">
                        <label class="col-sm-1 col-md-2 col-form-label">@_f.tra("IČ"):</label>
                        <div class="col-sm-11 col-md-10">
                            <div class="input-group">
                                <input class="form-control" asp-for="Rec.p28RegID" />
                                <button type="button" class="btn btn-sm btn-outline-secondary">ARES import</button>
                            </div>
                            
                        </div>
                        
                    </div>
                    <div class="row my-2">
                        <label class="col-sm-1 col-md-2 col-form-label">@_f.tra("DIČ"):</label>
                        <div class="col-sm-11 col-md-10">
                            <div class="input-group">
                                <input class="form-control" asp-for="Rec.p28VatID" />
                                <button type="button" class="btn btn-sm btn-outline-secondary">VIES import</button>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <div class="col-sm-6 col-md-6">
                    <div class="row my-2">
                        <input class="form-control" asp-for="Rec.p28CompanyShortName" placeholder="@_f.tra("Zkrácený (preferovaný) název klienta")" />
                    </div>
                    <div class="row my-2">
                        <div class="col-sm-1 col-md-2">@_f.tra("Kód klienta"):</div>
                        <div class="col-sm-11 col-md-10">
                            ??
                        </div>
                    </div>
                    <div class="row my-2">
                        <label class="col-sm-1 col-md-2 col-form-label">@_f.tra("Typ klienta"):</label>
                        <div class="col-sm-11 col-md-10">
                            <mycombo entity="p29ContactType" asp-for="Rec.p29ID" selectedtext="@Model.SelectedComboP29Name" view-flag="2"></mycombo>
                        </div>
                    </div>
                    
                </div>
            </div>

            


            <div class="card">
                <div class="card-header">@_f.tra("WIP limit k upozornění")</div>
                <div class="card-body">
                    <div class="row">
                        <label class="col-sm-4 col-md-4 col-form-label">@_f.tra("Limit rozpracovaných hodin v projektech klienta"):</label>
                        <div class="col-sm-2 col-md-2">
                            <mynumber asp-for="Rec.p28LimitHours_Notification" decimal-digits="2"></mynumber>
                        </div>
                    </div>
                    <div class="row my-2">
                        <label class="col-sm-4 col-md-4 col-form-label">@_f.tra("Limitní honorář z rozpracovaných hodin projektů klienta"):</label>
                        <div class="col-sm-2 col-md-2">
                            <mynumber asp-for="Rec.p28LimitFee_Notification" decimal-digits="2"></mynumber>
                        </div>
                    </div>
                </div>
            </div>




            









        </div>

        <div class="tab-pane" id="tab2" role="tabpanel">
            <!-- Tab2 -->

            <div class="row">
                <label class="col-sm-2 col-md-3 col-form-label">@_f.tra("Fakturační jazyk klienta"):</label>
                <div class="col-sm-10 col-md-9">
                    <mycombo entity="p87BillingLanguage" asp-for="Rec.p87ID" selectedtext="@Model.SelectedComboP87Name" view-flag="2"></mycombo>
                </div>
            </div>
            <div class="row my-2">
                <label class="col-sm-2 col-md-3 col-form-label">@_f.tra("Výchozí typ faktury"):</label>
                <div class="col-sm-10 col-md-9">
                    <mycombo entity="p92InvoiceType" asp-for="Rec.p92ID" selectedtext="@Model.SelectedComboP92Name" view-flag="2"></mycombo>
                </div>
            </div>
            <div class="row my-2">
                <div class="col-sm-2 col-md-3">@_f.tra("ISDOC kód státu"):</div>
                <div class="col-sm-10 col-md-9">
                    <input class="form-control" asp-for="Rec.p28Pohoda_VatCode" />
                </div>
            </div>
            <div class="row my-2">
                <div class="col-sm-2 col-md-3">@_f.tra("IČ DPH SK (Slovensko)"):</div>
                <div class="col-sm-10 col-md-9">
                    <input class="form-control" asp-for="Rec.p28ICDPH_SK" />
                </div>
            </div>
            <div class="row my-2">
                <div class="col-sm-2 col-md-3">@_f.tra("Výchozí splatnost faktury (dny)"):</div>
                <div class="col-sm-10 col-md-9">
                    <mynumber asp-for="Rec.p28InvoiceMaturityDays" decimal-digits="0"></mynumber>
                </div>
            </div>
            <div class="row my-2">
                <label class="col-sm-2 col-md-3 col-form-label">@_f.tra("Šablona zprávy pro elektronickou fakturaci"):</label>
                <div class="col-sm-10 col-md-9">
                    <mycombo entity="j61TextTemplate" asp-for="Rec.j61ID_Invoice" selectedtext="@Model.SelectedComboJ61Name" view-flag="2"></mycombo>
                </div>
            </div>
            <div class="row my-2">
                <div class="col-sm-2 col-md-3">@_f.tra("Režijní přirážka k ceně faktury"):</div>
                <div class="col-sm-10 col-md-9">
                    <mycombo entity="p63Overhead" asp-for="Rec.p63ID" selectedtext="@Model.SelectedComboP63Name" view-flag="2"></mycombo>
                </div>
            </div>

            <div class="form-floating my-2">
                <textarea class="form-control" style="background-color:#F0FFF0 !important;" asp-for="Rec.p28BillingMemo"></textarea>
                <label for="Rec_p28BillingMemo">@_f.tra("Interní fakturační poznámka klienta")</label>
            </div>


            <div class="form-floating my-2">
                <textarea class="form-control" asp-for="Rec.p28InvoiceDefaultText1"></textarea>
                <label for="Rec_p28InvoiceDefaultText1">@_f.tra("Výchozí hlavní text faktury")</label>
            </div>

            <div class="form-floating my-2">
                <textarea class="form-control" asp-for="Rec.p28InvoiceDefaultText2"></textarea>
                <label for="Rec_p28InvoiceDefaultText2">@_f.tra("Výchozí technický text faktury")</label>
            </div>
        </div>

        <div class="tab-pane" id="tab3" role="tabpanel">
            <!-- Tab3 -->




        </div>

        <div class="tab-pane" id="tab4" role="tabpanel">
            <!-- Tab4 -->




        </div>

    </div>
</div>



<script type="text/javascript">
    $(document).ready(function () {





    });

    function postback(oper) {

        form1.action = _ep("/p28/Record?oper=" + oper);
        form1.submit();
    }


</script>
